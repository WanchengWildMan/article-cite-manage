webpackJsonp([1],{"9KpD":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("7+uW"),r=a("mvHQ"),n=a.n(r),i=a("pFYg"),o=a.n(i),s=a("fZjL"),c=a.n(s),u=a("BO1k"),d=a.n(u),f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticStyle:{height:"auto",display:"flex"}},[a("el-row",[a("el-col",{attrs:{span:2}},[e._t("left-field")],2),e._v(" "),a("el-col",{attrs:{span:4}},[e._t("search-field")],2),e._v(" "),a("el-col",{attrs:{span:12,align:"center"}},[e._t("filter-field")],2),e._v(" "),a("el-col",{attrs:{span:6}},[e._t("right-field")],2)],1)],1),e._v(" "),a("el-main",[e._t("default")],2)],1)},staticRenderFns:[]};var h=a("VU/8")({},f,!1,function(e){a("w5/J")},null,null).exports,p={props:{show:{type:Boolean,default:!1},title:{type:String,default:"对话框"}},data:function(){return{localShow:this.show}},watch:{show:function(e){this.localShow=e}},methods:{beforeClose:function(){this.close()},close:function(){this.$emit("close")},save:function(){this.$emit("save")}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.localShow,title:e.title,"before-close":e.beforeClose},on:{"update:visible":function(t){e.localShow=t}}},[e._t("default"),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:e.save}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-close"},on:{click:e.close}},[e._v("关闭")])],1)],2)},staticRenderFns:[]},b=a("VU/8")(p,m,!1,null,null,null).exports,v=a("mtWM"),y=a.n(v),w={components:{ViewPage:h,EditDialog:b},data:function(){return{port:8080,pageEachSize:20,pageNum:1,displayLogic:["none","block"],articleTypes:[{value:"J",label:"[J]期刊"},{value:"M",label:"[M]专著"},{value:"C",label:"[C]文献集"},{value:"D",label:"[D]学位文献"},{value:"R",label:"[R]报告"},{value:"S",label:"[S]标准"},{value:"N",label:"[N]报纸"},{value:"P",label:"[P]专利"},{value:"DB/CD",label:"[DB/CD]数据库（CD）"},{value:"DB/OL",label:"[DB/CD]数据库（在线）"}],inputAuthor:"",formRules:{articleName:[{required:!0,message:"请填写文献题目"}],author:[{required:!0,message:"请输入作者",trigger:"blur"}],publishYear:[{required:!0,message:"请选择日期"}],publishHouse:[{required:!0,message:"请输入出版机构"}],articleType:[{required:!0,message:"请选择文献类型"}],startPage:[{required:!0,message:"请输入起始页码或出版月"}],endPage:[{required:!0,message:"请输入结束页码或出版日"}]},articleModel:{id:"",articleName:"",author:"",articleType:"",publishHouse:"",publishYear:"",num:"",startPage:"",endPage:""},tableHeadData:[{name:"index",label:"行",minWidth:"60px",unModifiable:!0,autoAdd:!0},{name:"id",label:"文献编号",minWidth:"60px",unModifiable:!0,autoAdd:!0},{name:"articleName",minWidth:"180px",label:"文献题目",isInput:!0},{name:"author",label:"文献作者",minWidth:"140px",isInput:!0,notRequired:!0},{name:"articleType",label:"文献类型",minWidth:"130px",isSelect:!0,selectList:[{value:"J",label:"[J]期刊"},{value:"M",label:"[M]专著"},{value:"C",label:"[C]文献集"},{value:"D",label:"[D]学位文献"},{value:"R",label:"[R]报告"},{value:"S",label:"[S]标准"},{value:"P",label:"[P]专利"},{value:"DB/CD",label:"[DB/CD]数据库（CD）"},{value:"DB/OL",label:"[DB/CD]数据库（在线）"}]},{name:"publishHouse",label:"出版机构",isInput:!0},{name:"publishYear",label:"出版年份",isYear:!0},{name:"num",label:"卷号(期号)",isNumber:!0,notRequired:!0,minNumber:1},{name:"startPage",label:"起始页码或出版月",isNumber:!0,minNumber:1},{name:"endPage",label:"结束页码或出版日",isNumber:!0,minNumber:1},{name:"gmtCreated",label:"创建时间",minWidth:"170px",unModifiable:!0,autoAdd:!0},{name:"gmtModified",label:"修改时间",minWidth:"170px",unModifiable:!0,autoAdd:!0}],tableDataAll:[],data:[],searchStr:"",filterId:void 0,filterAuthor:"",filterName:"",filterType:"",filterYear_start:0,filterYear_end:0,statusColors:["info","primary","warning","success"],sortProp:"",sortOrder:"",currentPage:1,currentPageSize:3,editShow:!1,uploadShow:!1,downloadshow:!1,currentAddFileList:[],currentAuthors:[]}},created:function(){console.log("CREATED")},mounted:function(){var e=this;console.log("MOUNTED");var t=this;for(var a in this.getTableData().then(function(){console.log(t.tableHeadData),console.log(t.tableDataAll),console.log(t.filtedData),e.$nextTick(function(){e.tableResizeInit()})}),this.tableHeadData)this.tableHeadData[a].modelName="tableHeadData."+this.tableHeadData[a].name},methods:{handleCellClick:function(e,t,a,l){var r=a.getAttribute("isEdit");void 0!=r&&"false"!=r&&"null"!=r||(r=!1),r=!r,a.querySelector(".el-form-item").style.display=this.displayLogic[r?1:0],a.querySelector("span").style.display=this.displayLogic[r?0:1],a.setAttribute("isEdit",r)},hasError:function(e){return!e.data||e.data.errors.length>0},showAlert:function(e,t,a,l){return this.hasError(t)?(e.$alert("文献  + "+a.articleName+" +  "+l+"失败！原因："+t.data.errors,"消息",{confirmButtonText:"确定",callback:function(t){e.location.reload()}}),!1):(e.$alert("文献 "+a.articleName+" "+l+"成功！","消息",{confirmButtonText:"确定",callback:function(e){window.location.reload()}}),!0)},deleteArticle:function(e){var t=this,a=e.$index;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.tableDataAll.splice(a,1),y.a.delete("/admin/deleteOneById?id="+e.id).then(function(a){t.showAlert(t,a,e,"删除")}),t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},updateData:function(e){var t=this;this.$set(e,"show",!1),console.log(e),y.a.post("/admin/updateOne",e).then(function(e){var a=!t.hasError(e);t.$message({type:a?"success":"error",message:"保存"+(a?"成功":"失败")})})},handleEdit:function(e){this.$set(e,"show",!0);document.querySelectorAll("#articleTable td"),document.querySelectorAll("#articleTable th")},handleAdd:function(){this.newArticleRecord=this.articleModel,this.editShow=!0},addCurrentAuthor:function(){this.ok=!0,""==this.inputAuthor?this.$alert("不合法的作者名！","错误",{confirmButtonText:"确定",callback:function(e){}}):-1!=this.currentAuthors.indexOf(this.inputAuthor)?this.$alert(this.inputAuthor+"已存在！","错误",{confirmButtonText:"确定",callback:function(e){}}):(this.currentAuthors.push(this.inputAuthor),this.inputAuthor="",this.formRules.author[0].required=!1)},removeCurrentAuthor:function(e){this.currentAuthors.splice(this.currentAuthors.indexOf(e),1)},saveNewRecord:function(){var e=this,t=this;this.$refs.articleAddForm.validate(function(a){a&&(e.articleModel.author=e.currentAuthors.join(","),y.a.post("/admin/addOne",e.articleModel).then(function(e){var a=!t.hasError(e)&&-1==e.data.errors.indexOf("Duplicate");t.$message({type:a?"success":"error",message:"添加"+(a?"成功":"失败}")}),t.refresh()}))})},handleSpanClickDebug:function(){console.log(this.formRules)},page:function(e){this.currentPage=e},handleSizeChange:function(e){this.pageEachSize=e},getTableData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;return console.log(e),e||(e="/admin/find"),y.a.get(e).then(function(e){t.tableDataAll=e.data.content,console.log(t.tableDataAll)})},filterHeadDataToForm:function(){return this.tableHeadData.filter(function(e){return!e.autoAdd})},tableResizeInit:function(){for(var e=this,t=document.getElementsByClassName("el-table__body")[0],a=new Array,l=0;l<t.rows.length;l++)a[l]=t.rows[l].cells[0];document.getElementsByClassName("el-table__body")[0].rows[0].cells;for(var r=0,n=0,i=0,o=0;o<a.length;o++)this.addListener(a[o],"mousedown",onmousedown),this.addListener(a[o],"mousemove",onmousemove);document.onmousedown=function(e){if(this.resizeable){var a=e||window.event;this.mousedown=!0,r=a.screenY,n=this.targetTd.offsetHeight,i=t.offsetHeight}},document.onmousemove=function(a){var l=a||window.event,o=e.getTarget(l);l.offsetY;if(this.mousedown){var s=n+(l.screenY-r)+"px";this.targetTd.style.height=s,t.style.height=i+(l.screenY-r)+"px"}else o.offsetHeight-l.offsetY<=8&&o.offsetWidth-l.offsetX>8?(this.targetTd=o,this.resizeable=!0,o.style.cursor="row-resize"):l.offsetY<=8&&l.offsetX>8?o.parentNode.rowIndex&&(this.targetTd=t.rows[o.parentNode.rowIndex-1].cells[0],this.resizeable=!0,o.style.cursor="row-resize"):o.offsetHeight-l.offsetY>8&&o.offsetWidth-l.offsetX<=8?o.style.cursor="column-resize":l.offsetY>8&&l.offsetX<=8?o.parentNode.rowIndex&&(o.style.cursor="column-resize"):(this.resizeable=!1,o.style.cursor="default")},document.onmouseup=function(e){this.tartgetTd=null,this.coltargetTd=null,this.resizeable=!1,this.mousedown=!1,document.body.style.cursor="default"}},getTarget:function(e){return e.target||e.srcElement},addListener:function(e,t,a,l){e.addEventListener?e.addEventListener(t,a,l):e.attachEvent("on"+t,a)},closeEditDialog:function(){this.newArticleRecord={},this.currentAuthors=[],this.inputAuthor="",this.$refs.articleAddForm.resetFields(),this.editShow=!1},refresh:function(){window.location.reload()},downloadExcel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y.a.post("/admin/downloadExcel?isTemplate="+t,this.filtedData,{responseType:"blob"}).then(function(e){var t=new Blob([e.data],{type:"application/vnd.ms-excel"}),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download="文献导出列表.xlsx",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}).catch(function(t){return e.$notify({type:"error",message:"导出失败，网络错误！"})})},uploadExcelURL:function(){return"/admin/uploadExcel"},downloadTxt:function(){var e=this,t=[];for(var a in this.filtedData){var l=this.filtedData[a],r="["+a+"]",n=!0,i=!1,o=void 0;try{for(var s,u=d()(c()(l));!(n=(s=u.next()).done);n=!0){var f=s.value,h=l[f];""!=h&&0!=h&&"0"!=h&&"id"!=f&&"seqId"!=f&&"gmt"!=f.substr(0,3)&&"show"!=f&&("articleType"==f?r+="["+h+"].":"num"==f?r+="("+h+"):":"startPage"==f||"N"==l.articleType&&"publishYear"==f?r+=h+"-":r+=h+("articleName"==f?"":"."))}}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}t.push(r)}y.a.post("/admin/downloadTxt",t,{responseType:"blob"}).then(function(e){var t=new Blob([e.data]),a=document.createElement("a"),l=window.URL.createObjectURL(t);a.href=l,a.download="文献导出列表.txt",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)}).catch(function(t){return e.$notify({type:"error",message:"导出失败，网络错误！"})})},uploadTxtURL:function(){return"/admin/uploadTxt"},uploadExcelNow:function(){console.log("uploadExcel!!!!!"),this.$refs.uploadexcel.submit()},uploadTxtNow:function(){this.$refs.uploadtxt.submit()},uploadSuccess:function(e){200!=e.status?(console.log(e.successNum),this.$notify.error({title:e.successNum+"个导入成功，"+(e.totalNum-e.successNum)+"个导入失败，引用格式不正确或引用条目已存在！",message:""+e.errors.join("\n")})):this.$notify.success({title:e.successNum+"个导入成功！"}),this.uploadShow=!1},uploadError:function(e){this.$message({message:"上传失败，请检查网络状态！",type:"error",showClose:!0})},searchArticle:function(){this.getTableData("/admin/find?id="+(this.filterId?this.filterId:0)+"&author="+(this.filterAuthor?this.filterAuthor:"")+"&articleType="+this.articleType+"&articleName="+(this.filterName?this.filterName:"")+"&publishYearStart="+(this.filterYear_start?this.filterYear_start.getFullYear():"")+"\n        &publishYearEnd="+(this.filterYear_end?this.filterYear_end.getFullYear():"")+"\n        ")},change:function(e){this.$forceUpdate()}},computed:{filtedData:function(){var e=this,t=this.tableDataAll.filter(function(t){var a=new RegExp(e.searchStr,"i");return console.log(t),!e.searchStr||a.test(t.articleName)||a.test(t.author)||a.test(t.articleType)}).filter(function(t){return 0==e.filterId||!e.filterId||t.id==e.filterId}).filter(function(t){return""==e.filterType||t.articleType==e.filterType}).filter(function(t){var a=new RegExp(e.filterName,"i");return""==e.filterName||a.test(t.articleName)}).filter(function(t){return(!e.filterYear_start||0==e.filterYear_start||e.filterYear_start.getFullYear()<=new Date(t.publishYear).getFullYear())&&(!e.filterYear_end||0==e.filterYear_end||e.filterYear_end.getFullYear()>=new Date(t.publishYear).getFullYear())}).filter(function(t){return""==e.filterAuthor||-1!=t.author.indexOf(e.filterAuthor)});return this.tableDataAll.length>0&&this.page(1),t},sortedData:function(){var e=this;if(!(this.sortOrder&&this.sortProp&&this.filtedData&&this.filtedData.length))return this.filtedData;var t="descending"==this.sortOrder?-1:1;switch(o()(this.filtedData[0][this.sortProp])){case"number":return this.filtedData.sort(function(a,l){return t*(a[e.sortProp]-l[e.sortProp])});case"string":return"null"!==n()(new Date(this.filtedData[0][this.sortProp]))?this.filtedData.sort(function(a,l){return t*(new Date(a[e.sortProp])-new Date(l[e.sortProp]))}):this.filtedData.sort(function(a,l){var r=0;return a[e.sortProp]>l[e.sortProp]?r=1:a[e.sortProp]<l[e.sortProp]&&(r=-1),t*r})}},total:function(){return this.filtedData.length},pagedData:function(){return this.sortedData.slice((this.currentPage-1)*this.currentPageSize,this.currentPage*this.currentPageSize)}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view-page",[a("template",{slot:"left-field"},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}},[e._v("添加\n    ")])],1),e._v(" "),a("template",{slot:"search-field"},[a("el-input",{staticStyle:{"min-width":"50px"},attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入搜索内容"},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}})],1),e._v(" "),a("template",{staticStyle:{display:"flex"},slot:"filter-field"},[a("el-input-number",{staticStyle:{"min-width":"50px","max-width":"150px"},attrs:{min:0,step:1,placeholder:"文献编号"},model:{value:e.filterId,callback:function(t){e.filterId=t},expression:"filterId"}}),e._v(" "),a("el-input",{staticStyle:{"min-width":"50px","max-width":"150px"},attrs:{autosize:"","suffix-icon":"el-icon-search",placeholder:"搜索文献题目"},on:{input:function(t){return e.change(t)}},model:{value:e.filterName,callback:function(t){e.filterName=t},expression:"filterName"}}),e._v(" "),a("el-select",{staticStyle:{"min-width":"50px","max-width":"150px"},attrs:{placeholder:"选择类型"},model:{value:e.filterType,callback:function(t){e.filterType=t},expression:"filterType"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.articleTypes,function(e){return a("el-option",{key:e,attrs:{label:e.label,value:e.value}})})],2),e._v(" "),a("el-input",{staticStyle:{"min-width":"50px","max-width":"150px"},attrs:{"suffix-icon":"el-icon-search",placeholder:"文献作者"},model:{value:e.filterAuthor,callback:function(t){e.filterAuthor=t},expression:"filterAuthor"}}),e._v(" "),a("el-date-picker",{staticStyle:{"min-width":"50px","max-width":"150px"},attrs:{type:"year",format:"yyyy",placeholder:"起始年份"},model:{value:e.filterYear_start,callback:function(t){e.filterYear_start=t},expression:"filterYear_start"}}),e._v(" "),a("el-date-picker",{staticStyle:{"min-width":"50px","max-width":"150px"},attrs:{type:"year",placeholder:"结束年份"},model:{value:e.filterYear_end,callback:function(t){e.filterYear_end=t},expression:"filterYear_end"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchArticle}})],1),e._v(" "),a("template",{staticStyle:{display:"flex"},slot:"right-field"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.refresh}},[e._v("\n      刷新\n    ")]),e._v(" "),a("el-button",{attrs:{type:"warning",icon:"el-icon-upload2"},on:{click:function(t){e.uploadShow=!0}}},[e._v("\n      导入\n    ")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){e.downloadshow=!0}}},[e._v("\n      导出\n    ")])],1),e._v(" "),a("el-table",{ref:"articleTable",attrs:{data:e.filtedData.slice((e.currentPage-1)*e.pageEachSize,e.currentPage*e.pageEachSize),border:"",id:"articleTable"}},[e._l(e.tableHeadData,function(t){return a("el-table-column",{key:t.key,attrs:{label:t.label,width:t.width,prop:t.name,sortable:"","sort-orders":["ascending","descending"],"min-width":null==t.minWidth?"100px":t.minWidth},scopedSlots:e._u([{key:"default",fn:function(l){return["index"==t.name?a("span",[e._v(e._s(l.$index+1))]):[a("span",{directives:[{name:"show",rawName:"v-show",value:t.unModifiable||!l.row.show,expression:"item.unModifiable || !scope.row.show"}]},[e._v(e._s(0==l.row[t.name]?"":l.row[t.name]))]),e._v(" "),a("el-form",{staticStyle:{overflow:"scroll"},attrs:{rules:e.formRules}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!l.row.unModifiable&&l.row.show,expression:"!scope.row.unModifiable && scope.row.show"}]},[t.isInput?a("el-input",{model:{value:l.row[t.name],callback:function(a){e.$set(l.row,t.name,a)},expression:"scope.row[item.name]"}}):e._e(),e._v(" "),t.isNumber?a("el-input-number",{model:{value:l.row[t.name],callback:function(a){e.$set(l.row,t.name,a)},expression:"scope.row[item.name]"}}):e._e(),e._v(" "),t.isSelect&&t.selectList?a("el-select",{model:{value:l.row[t.name],callback:function(a){e.$set(l.row,t.name,a)},expression:"scope.row[item.name]"}},e._l(t.selectList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),t.isYear?a("el-date-picker",{attrs:{type:"year",format:"yyyy","value-format":"yyyy",placeholder:"请选择出版年份"},model:{value:l.row[t.name],callback:function(a){e.$set(l.row,t.name,a)},expression:"scope.row[item.name]"}}):e._e()],1)],1)]]}}],null,!0)})}),e._v(" "),a("el-table-column",{staticStyle:{height:"auto"},attrs:{sortable:"right",label:"操作","min-width":"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-success"},on:{click:function(a){return e.updateData(t.row)}}},[e._v("保存\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑\n        ")]),e._v(" "),a("el-button",{staticClass:"btn-text-red",attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.deleteArticle(t.row)}}},[e._v("删除\n        ")])]}}])})],2),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[5,10,15,20],"page-size":e.pageEachSize,total:e.total,"current-page":e.currentPage},on:{"current-change":e.page,"size-change":e.handleSizeChange}}),e._v(" "),a("edit-dialog",{attrs:{show:e.editShow,title:"新建文献条目"},on:{close:e.closeEditDialog,save:e.saveNewRecord}},[a("el-form",{ref:"articleAddForm",attrs:{model:e.articleModel,rules:e.formRules}},e._l(e.filterHeadDataToForm(),function(t){return a("el-form-item",{key:t.key,attrs:{label:t.label,prop:t.name,required:!t.notRequired&&!t.autoAdd}},["author"==t.name?a("div",[e._l(e.currentAuthors,function(t){return a("el-tag",{key:t,attrs:{closable:""},on:{close:function(a){return e.removeCurrentAuthor(t)}}},[e._v(e._s(t)+"\n          ")])}),e._v(" "),a("span",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addCurrentAuthor.apply(null,arguments)}}},[a("el-input",{model:{value:e.inputAuthor,callback:function(t){e.inputAuthor=t},expression:"inputAuthor"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addCurrentAuthor}},[e._v("添加文献作者\n          ")])],2):t.isSelect&&t.selectList?a("el-select",{model:{value:e.articleModel[t.name],callback:function(a){e.$set(e.articleModel,t.name,a)},expression:"articleModel[item.name]"}},e._l(t.selectList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):t.isYear?a("el-date-picker",{attrs:{type:"year",format:"yyyy","value-format":"yyyy",placeholder:"请选择出版年份"},model:{value:e.articleModel[t.name],callback:function(a){e.$set(e.articleModel,t.name,a)},expression:"articleModel[item.name]"}}):1==t.isNumber?a("el-input-number",{attrs:{min:0,step:1},model:{value:e.articleModel[t.name],callback:function(a){e.$set(e.articleModel,t.name,a)},expression:"articleModel[item.name]"}}):a("el-input",{model:{value:e.articleModel[t.name],callback:function(a){e.$set(e.articleModel,t.name,a)},expression:"articleModel[item.name]"}})],1)}),1)],1),e._v(" "),a("el-dialog",{attrs:{title:"从文件中导入",visible:e.uploadShow},on:{"update:visible":function(t){e.uploadShow=t}}},[a("h4",[e._v("从Excel中导入")]),e._v(" "),a("el-upload",{ref:"uploadexcel",attrs:{title:"Excel",accept:".xlsx",action:e.uploadExcelURL(),"list-type":"text","on-success":e.uploadSuccess,"on-error":e.uploadError,"file-list":e.currentAddFileList}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v("立即上传")])],1),e._v(" "),a("h4",[e._v("从txt文本中导入")]),e._v(" "),a("el-upload",{ref:"uploadtxt",attrs:{title:"txt文本",accept:".txt",action:e.uploadTxtURL(),"list-type":"text","on-success":e.uploadSuccess,"on-error":e.uploadError,"file-list":e.currentAddFileList}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v("立即上传")])],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger",icon:"el-icon-close"},on:{click:function(t){e.uploadShow=!1}}},[e._v("关闭")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"导出模版或数据",visible:e.downloadshow},on:{"update:visible":function(t){e.downloadshow=t}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.downloadExcel(!0)}}},[e._v("导出xlsx模版\n    ")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){return e.downloadExcel(!1)}}},[e._v("导出xlsx数据\n    ")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:function(t){return e.downloadTxt()}}},[e._v("导出txt数据\n    ")])],1)],2)},staticRenderFns:[]},x={name:"App",components:{DataTable:a("VU/8")(w,g,!1,null,null,null).exports}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",[t("el-header",{staticClass:"head",attrs:{height:"100px",align:"center"}},[t("h2",[this._v("参 考 文 献 管 理 系 统")])]),this._v(" "),t("el-main",[t("data-table")],1)],1)},staticRenderFns:[]};var D=a("VU/8")(x,_,!1,function(e){a("9KpD"),a("yYOb")},null,null).exports,A=a("/ocq");l.default.use(A.a);var k=new A.a({mode:"history",routes:[{path:"",name:"index",component:D}]}),S=a("zL8q"),T=a.n(S),E=(a("tvR6"),a("cs+8")),N=a.n(E);a("XLwt");l.default.use(T.a),l.default.component("chart",N.a),y.a.defaults.baseURL="http://localhost:8080/",l.default.prototype.$ajax=y.a,l.default.config.productionTip=!1,new l.default({el:"#app",router:k,components:{App:D},template:"<App/>"})},tvR6:function(e,t){},"w5/J":function(e,t){},yYOb:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.32600c23a7a691b58649.js.map